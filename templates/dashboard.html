<!DOCTYPE html>
<html lang = "en">
    <head>
        <meta charset = "UTF-8">
        <meta name = "viewport" content = "width=device-width, initial-scale=1.0">
        <title>Dashboard</title>

        <link href = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel = "stylesheet">
        <link href = "https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel = "stylesheet">
        <link rel = "stylesheet" href = "{{ url_for('static', filename='css/dashboard.css') }}">
    </head>

    <body>
        <div class = "container mt-5">
            <div class = "d-flex justify-content-between align-items-center mb-4">
                <h1 class = "display-4 text-center">Finances Dashboard</h1>
                <a href = "{{ url_for('logout') }}" class = "btn btn-danger">Log Out</a>
            </div>

            <div id = "user-details" class = "my-4 p-3 bg-light rounded shadow-sm">
                <h3>Your Profile</h3>
                <p>Username: {{ current_user.username }}</p>
                <p>Email: {{ current_user.email }}</p>
                <h4>Income Record</h4>
                <p>Salary: &#x20B9;{{ current_user.income.salary }}</p>
                <p>Investments: &#x20B9;{{ current_user.income.investment or 0 }}</p>
                <p>Other Sources: &#x20B9;{{ current_user.income.other_sources or 0 }}</p>
            </div>

            <div id = "visualizations" class = "my-4">
                <h2>Analytics</h2>
                <div class = "row">
                    <div class = "col-lg-6 col-md-12">
                        <canvas id = "monthlyChart"></canvas>
                    </div>

                    <div class = "col-lg-6 col-md-12">
                        <canvas id = "weeklyChart"></canvas>
                    </div>
                </div>

                <div class = "mt-4">
                    <canvas id = "incomePieChart"></canvas>
                </div>
            </div>

            <div id = "transaction-journal" class="my-4">
                <h2>Transactions Journal</h2>
                <div class = "journal-entries">

                </div>
            </div>

            <div id = "calendar-widget" class = "my-4 text-center">
                <h5 style = "font-family: Arial, sans-serif;">Select Date</h5>
                <div class = "d-inline-block">
                    <input type = "date" id = "datePicker" class = "form-control text-center">
                </div>
            </div>
        </div>

        <script src = "https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src = "https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src = "https://cdn.jsdelivr.net/npm/flatpickr"></script>
        <script src = "{{ url_for('static', filename='js/dashboard.js') }}"></script>

    </body>
</html>